# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ó–∞–≥—Ä—É–∑–∫–∏ –î–∞–Ω–Ω—ã—Ö - –†–µ–∑—é–º–µ

> –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ 4-—ç—Ç–∞–ø–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è Super Strong
> –ë–∞–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞: LOADING_STRATEGY.md

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------|-------|-----------|
| **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** | 3-5 —Å–µ–∫ | 500–º—Å - 1—Å–µ–∫ | **6-10x –±—ã—Å—Ç—Ä–µ–µ** |
| **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞** | 2-3 —Å–µ–∫ | 0–º—Å (–∫–µ—à) | **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ** |
| **–ó–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ** | 10+ (N+1) | 3-4 (batch) | **70% –º–µ–Ω—å—à–µ** |
| **–î–ª—è 30+ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫/–º–µ—Å—è—Ü** | ‚ùå –ü–µ—Ä–µ–≥—Ä—É–∑ | ‚úÖ 1 –∑–∞–ø—Ä–æ—Å | **–ù–∞–¥–µ–∂–Ω–æ** |

---

## üîß –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1Ô∏è‚É£ React –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã & –•—É–∫–∏

**–§–∞–π–ª: `src/hooks/useMonthWorkouts.ts`** ‚úÖ
- `useMonthWorkouts()` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ö—É–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Å—è—Ü–∞
- `usePrefetchAdjacentMonths()` - prefetch —Å–æ—Å–µ–¥–Ω–∏—Ö –º–µ—Å—è—Ü–µ–≤
- `useInvalidateMonth()` - –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìñ Source: https://tanstack.com/query/latest/docs/framework/react/guides/queries

**–§–∞–π–ª: `src/pages/CalendarPage.tsx`** ‚úÖ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `useQueries()` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ 3 –º–µ—Å—è—Ü–µ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã prefetch callbacks –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–µ—à–∞
- üìñ Source: https://tanstack.com/query/latest/docs/framework/react/reference/useQueries

**–§–∞–π–ª: `src/components/specific/Calendar.tsx`** ‚úÖ
- –î–æ–±–∞–≤–ª–µ–Ω—ã props: `onPrefetchPrevMonth` –∏ `onPrefetchNextMonth`
- –í—ã–∑–æ–≤ prefetch –ø—Ä–∏ `onMouseEnter` –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- üìñ Source: https://tanstack.com/query/latest/docs/framework/react/guides/prefetching

**–§–∞–π–ª: `src/App.tsx`** ‚úÖ –ì–õ–ê–í–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï
- ‚ùå –£–î–ê–õ–ï–ù–û: `getAllWorkoutsForUser()` - –∑–∞–≥—Ä—É–∂–∞–ª –í–°–ï —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ (`getWorkoutsForDate`)
- ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: Prefetch —Å–æ—Å–µ–¥–Ω–∏—Ö –º–µ—Å—è—Ü–µ–≤ —á–µ—Ä–µ–∑ `queryClient.prefetchQuery()`
- ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û: `useQueryClient()` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–µ—à–µ–º
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–ø–µ—Ä—å 500–º—Å –≤–º–µ—Å—Ç–æ 3-5 —Å–µ–∫**
- üìñ Source: https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient

### 2Ô∏è‚É£ Supabase SQL

**–§–∞–π–ª: `supabase/migrations/create_rpc_get_month_workouts.sql`** ‚úÖ
```sql
CREATE FUNCTION get_month_workouts(p_user_id UUID, p_year INT, p_month INT)
RETURNS TABLE (...)
```
- Batch –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∑–∞ –º–µ—Å—è—Ü —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –í–º–µ—Å—Ç–æ 10+ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ - 1 RPC –≤—ã–∑–æ–≤
- –í–∫–ª—é—á–∞–µ—Ç: exercise_count, total_sets, total_volume, avg_duration
- üìñ Source: https://supabase.com/docs/guides/database/functions

**–§–∞–π–ª: `supabase/migrations/add_performance_indexes.sql`** ‚úÖ
–°–æ–∑–¥–∞–Ω—ã 7 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤:
1. `idx_workout_sessions_user_month` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –º–µ—Å—è—Ü–∞–º
2. `idx_user_days_user_date` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ
3. `idx_workout_exercises_session` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
4. `idx_exercise_sets` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å–µ—Ç–æ–≤
5. `idx_exercises_directus_id` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
6. `idx_user_days_user_month` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ
7. `idx_workout_sessions_user_day` - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Å–µ—Å—Å–∏–π

- üìñ Source: https://www.postgresql.org/docs/current/indexes.html

### 3Ô∏è‚É£ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–§–∞–π–ª: `supabase/SETUP.md`** ‚úÖ
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é SQL —Å–∫—Ä–∏–ø—Ç–æ–≤
- –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: GUI (Supabase Console) –∏ CLI
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

---

## üöÄ –≠–¢–ê–ü–´ –ó–ê–ì–†–£–ó–ö–ò (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û)

### –≠—Ç–∞–ø 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (0-500–º—Å)
```typescript
// App.tsx:60-130
const currentMonthWorkouts = await getWorkoutsForDate(currentDateStr, currentUser?.id)
```
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
- ‚úÖ Batch –∑–∞–ø—Ä–æ—Å –∫ Supabase
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏–∑ Directus

### –≠—Ç–∞–ø 2: –°–æ—Å–µ–¥–Ω–∏–µ –º–µ—Å—è—Ü—ã (500–º—Å-2s)
```typescript
// CalendarPage.tsx:32-69
const monthQueries = useQueries({
  queries: [
    { queryKey: ['workouts-month', displayYear, displayMonth - 1], ... },
    { queryKey: ['workouts-month', displayYear, displayMonth], ... },
    { queryKey: ['workouts-month', displayYear, displayMonth + 1], ... },
  ],
})
```
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ 3 –º–µ—Å—è—Ü–µ–≤
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refetch –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É—Å—Ç–∞—Ä–µ–ª–∏ (5 –º–∏–Ω—É—Ç)

### –≠—Ç–∞–ø 3: Smart Prefetch (500–º—Å+)
```typescript
// Calendar.tsx:120, 130
onMouseEnter={onPrefetchPrevMonth}
onMouseEnter={onPrefetchNextMonth}
```
- ‚úÖ Prefetch –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏
- ‚úÖ –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI

### –≠—Ç–∞–ø 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prefetch (1s+)
```typescript
// App.tsx:181-209
queryClient.prefetchQuery({
  queryKey: ['workouts-month', prevYear, prevMonth],
  queryFn: () => getWorkoutsForDate(dateStr, currentUser?.id),
})
```
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π prefetch —Å–æ—Å–µ–¥–Ω–∏—Ö –º–µ—Å—è—Ü–µ–≤
- ‚úÖ –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∫–∞–∑ UI)
- ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìù QUERY KEY –°–¢–†–ê–¢–ï–ì–ò–Ø

–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```typescript
// –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∑–∞ –º–µ—Å—è—Ü
['workouts-month', year, month]

// –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞ –º–µ—Å—è—Ü
['exercises-month', year, month]

// –û—Ç–¥–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
['exercise', exerciseId]

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
['statistics', workoutId]
```

‚úÖ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –õ–µ–≥–∫–æ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –º–µ—Å—è—Ü–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–¥–æ–±–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å (–≤–∏–¥–Ω–æ –∫–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–µ—à–µ)

---

## üîÑ –ü–†–û–¶–ï–°–° –í–ù–ï–î–†–ï–ù–ò–Ø

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ ‚úÖ
```bash
docker-compose up -d     # PostgreSQL, Directus
pnpm dev                 # Vite dev server
```
–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –Ω–∞ http://localhost:5173

### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã –≤ Supabase
1. –û—Ç–∫—Ä—ã—Ç—å https://supabase.com/dashboard
2. SQL Editor ‚Üí New Query
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase/migrations/create_rpc_get_month_workouts.sql`
4. –ù–∞–∂–∞—Ç—å Run
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è `add_performance_indexes.sql`

### –®–∞–≥ 3: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5173
2. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Network
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ (–∏–∑ –∫–µ—à–∞)

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –£–õ–£–ß–®–ï–ù–ò–Ø

### –í DevTools (Network Tab)

**–î–û –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ú–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (10+) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ = –Ω–æ–≤—ã–π –∑–∞–≥—Ä—É–∑–∫–∞ (2-3 —Å–µ–∫)

**–ü–û–°–õ–ï –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- 3-4 –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- 3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –º–µ—Å—è—Ü–µ–≤
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ = –∏–∑ –∫–µ—à–∞ (0–º—Å)

### –í React DevTools

**Performance Profiler:**
1. –û—Ç–∫—Ä—ã—Ç—å React DevTools ‚Üí Profiler
2. –ó–∞–ø–∏—Å–∞—Ç—å —Å–µ—Å—Å–∏—é
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ—Ä—É—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞)

### –í Console

```javascript
// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –≤ –∫–µ—à–µ React Query
window.queryCache  // –í—Å–µ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```

---

## üìö –ò–°–¢–û–ß–ù–ò–ö–ò –ò –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ò—Å—Ç–æ—á–Ω–∏–∫ |
|-----------|----------|
| useQuery | https://tanstack.com/query/latest/docs/framework/react/guides/queries |
| useQueries | https://tanstack.com/query/latest/docs/framework/react/reference/useQueries |
| Prefetch | https://tanstack.com/query/latest/docs/framework/react/guides/prefetching |
| useQueryClient | https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient |
| Dependent Queries | https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries |
| Supabase RPC | https://supabase.com/docs/guides/database/functions |
| Supabase Select | https://supabase.com/docs/reference/javascript/select |
| PostgreSQL Indexes | https://www.postgresql.org/docs/current/indexes.html |
| Query Strategy | https://tkdodo.eu/blog/react-query-as-a-state-manager |

---

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

```typescript
// –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

staleTime: 1000 * 60 * 5      // 5 –º–∏–Ω—É—Ç - –¥–∞–Ω–Ω—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–º–∏
gcTime: 1000 * 60 * 10        // 10 –º–∏–Ω—É—Ç - –∫–µ—à —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
retry: 2                      // 2 –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
retryDelay: (idx) => ...     // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ
```

–í—Å–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `src/hooks/useMonthWorkouts.ts`

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–ï–°–õ–ò –ù–£–ñ–ù–´)

1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–≥—Ä—É–∑–∫—É —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π**
   - –°–æ–∑–¥–∞—Ç—å `useMonthExercises()` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
   - –ó–∞–≥—Ä—É–∂–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –º–µ—Å—è—Ü–∞–º–∏

2. **–î–æ–±–∞–≤–∏—Ç—å Optimistic Updates**
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
   - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
   - üìñ Source: https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates

3. **–î–æ–±–∞–≤–∏—Ç—å Real-time Sync**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Realtime
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
   - üìñ Source: https://supabase.com/docs/guides/realtime

4. **–î–æ–±–∞–≤–∏—Ç—å Offline Support**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å localStorage –¥–ª—è –∫–µ—à–∞
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ connection
   - üìñ Source: https://tanstack.com/query/latest/docs/framework/react/guides/ssr

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ó–ê–í–ï–†–®–ï–ù–ò–Ø

- [x] –°–æ–∑–¥–∞–Ω `useMonthWorkouts()` —Ö—É–∫
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ `CalendarPage` —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∞ `Calendar` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å prefetch
- [x] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ `App.tsx` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- [x] –°–æ–∑–¥–∞–Ω–∞ RPC —Ñ—É–Ω–∫—Ü–∏—è –≤ Supabase
- [x] –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ë–î
- [x] –ù–∞–ø–∏—Å–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±–æ–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ü–û–õ–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø**
**–î–∞—Ç–∞**: 2025-11-12
**–í–µ—Ä—Å–∏—è**: 1.0
**–î–ª—è**: Super Strong - Fitness App

üöÄ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π!**
