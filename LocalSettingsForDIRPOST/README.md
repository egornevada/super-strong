# LocalSettingsForDIR&POST - –õ–æ–∫–∞–ª—å–Ω—ã–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ë–µ–∫–∞–ø

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –±–µ–∫–∞–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ Directus.

## üìÅ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–∞–ø–∫–∏

### 1. **DATABASE_ARCHITECTURE.md**
–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–≤—É—Ö –ë–î (Directus –∏ Super Strong)
- –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü —Å SQL
- –ü–æ—Ç–æ–∫ –∑–∞–ø–∏—Å–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- API endpoints
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. **backup-directus.sh**
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ Directus.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
bash backup-directus.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**:
- –°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ JSON
- –°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤ JSON
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π –≤ —ç—Ç—É –ø–∞–ø–∫—É

### 3. **restore-directus.sh**
–°–∫—Ä–∏–ø—Ç –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Directus –∏–∑ –±–µ–∫–∞–ø–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
bash restore-directus.sh directus_categories_YYYYMMDD_HHMMSS.json directus_exercises_YYYYMMDD_HHMMSS.json
```

### 4. **directus_categories_YYYYMMDD_HHMMSS.json**
–ë–µ–∫–∞–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π. –°–æ–¥–µ—Ä–∂–∏—Ç:
- ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (UUID)
- –ù–∞–∑–≤–∞–Ω–∏–µ (–ì—Ä—É–¥—å, –°–ø–∏–Ω–∞, –ù–æ–≥–∏ –∏ —Ç.–¥.)
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### 5. **directus_exercises_YYYYMMDD_HHMMSS.json**
–ë–µ–∫–∞–ø —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π. –°–æ–¥–µ—Ä–∂–∏—Ç:
- ID —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (UUID)
- –ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (category_id)
- –ì—Ä—É–ø–ø–∞ –º—ã—à—Ü
- –°–ª–æ–∂–Ω–æ—Å—Ç—å (–õ–µ–≥–∫–∏–π/–°—Ä–µ–¥–Ω–∏–π/–°–ª–æ–∂–Ω—ã–π)
- –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–ø–∏—Å—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–µ–Ω—å** ‚Üí –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å
2. **–î–µ–Ω—å –ø—É—Å—Ç–æ–π** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
3. **–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ Directus** (—Ç–∞–±–ª–∏—Ü–∞ exercises)
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è** –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ö–æ–¥—ã (—Ä–µ–ø—ã + –≤–µ—Å)
5. **–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ workout –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è (super_strong –ë–î)
   - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π
   - –£–¥–∞–ª—è—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–µ—Å–ª–∏ —ç—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã (workout_sets)
6. **–ù–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–∞** –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è

---

## üìä –î–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### Directus (localhost:8055)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: CMS –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- **–¢–∞–±–ª–∏—Ü—ã**: categories, exercises
- **–î–æ—Å—Ç—É–ø**: Web UI + REST API

### Super Strong (localhost:5432)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–¢–∞–±–ª–∏—Ü—ã**: users, workouts, workout_sets
- **–î–æ—Å—Ç—É–ø**: PostgREST (localhost:3000) + –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ PostgreSQL

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

### –õ–æ–∫–∞–ª—å–Ω–æ (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
```bash
cd LocalSettingsForDIR&POST
bash backup-directus.sh
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ)
```bash
bash restore-directus.sh directus_categories_20251103_232502.json directus_exercises_20251103_232502.json
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Directus
```bash
curl http://localhost:8055/api/items/exercises
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Super Strong (PostgREST)
```bash
curl http://localhost:3000/users
curl http://localhost:3000/workouts
```

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON —Ñ–∞–π–ª–æ–≤

### categories.json
```json
{
  "data": [
    {
      "id": "uuid-1",
      "name": "–ì—Ä—É–¥—å",
      "description": "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–∞ –≥—Ä—É–¥–Ω—ã–µ –º—ã—à—Ü—ã",
      "sort": 1
    },
    ...
  ]
}
```

### exercises.json
```json
{
  "data": [
    {
      "id": "uuid-2",
      "name": "–ñ–∏–º –ª—ë–∂–∞",
      "description": "–ë–∞–∑–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –≥—Ä—É–¥–∏",
      "category_id": "uuid-1",
      "instructions": "–õ–µ–∂–∞ –Ω–∞ —Å–∫–∞–º—å–µ, –∂–º–∏ —à—Ç–∞–Ω–≥—É –æ—Ç –≥—Ä—É–¥–∏ –≤–≤–µ—Ä—Ö",
      "muscle_group": "–ì—Ä—É–¥—å",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "status": "published"
    },
    ...
  ]
}
```

---

## üîê –í–∞–∂–Ω–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

1. **–ê–¥—Ä–µ—Å–∞ –ë–î –∏–∑–º–µ–Ω—è—Ç—Å—è** (–Ω–µ localhost)
2. **–ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–µ** (—Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. **Row Level Security** –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –±–æ–µ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤ production –∫–æ–Ω—Ñ–∏–≥–µ

---

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

- **2025-11-03**: –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∫–∞–ø–∞, —Å–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: 6 (–ì—Ä—É–¥—å, –°–ø–∏–Ω–∞, –ù–æ–≥–∏, –ü–ª–µ—á–∏, –†—É–∫–∏, –ü—Ä–µ—Å—Å)
  - –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: 14
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –≤ super_strong –ë–î

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?**
A: –í super_strong –ë–î, —Ç–∞–±–ª–∏—Ü–∞ workouts (–¥–∞—Ç–∞) –∏ workout_sets (–ø–æ–¥—Ö–æ–¥—ã)

**Q: –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è?**
A: –í Directus –ë–î, —Ç–∞–±–ª–∏—Ü–∞ exercises

**Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –µ—Å–ª–∏ —è —É–¥–∞–ª—é Directus –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä?**
A: –ü–æ—Ç–µ—Ä—è—é—Ç—Å—è –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `restore-directus.sh` —Å –±–µ–∫–∞–ø–æ–º

**Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –µ—Å–ª–∏ —è —É–¥–∞–ª—é PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä?**
A: –ü–æ—Ç–µ—Ä—è—é—Ç—Å—è –≤—Å–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ù—É–∂–µ–Ω –±–µ–∫–∞–ø super_strong –ë–î (–æ—Ç–¥–µ–ª—å–Ω–æ)

**Q: –ö–∞–∫ –¥–µ–ª–∞—Ç—å –±–µ–∫–∞–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?**
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pg_dump: `pg_dump -h localhost -U postgres super_strong > backup.sql`

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **API –¥–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π**: Directus REST API (localhost:8055/api)
- **API –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫**: PostgREST (localhost:3000)
- **PostgreSQL**: localhost:5432
- **–í–µ—Ä—Å–∏–∏**: PostgreSQL 16, Directus latest, Node 18+

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-03
**–°—Ç–∞—Ç—É—Å**: –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ, –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä
