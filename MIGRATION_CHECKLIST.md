# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ production

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

- **–î–æ–º–µ–Ω:** https://strong.webtga.ru/
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Email:** admin@strong.webtga.ru
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Directus:** /root/directus/
- **API endpoint:** https://strong.webtga.ru/api/
- **Admin panel:** https://strong.webtga.ru/api/admin

---

## –§–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

- [ ] **export-categories.json** - —Å–æ–¥–µ—Ä–∂–∏—Ç 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] **export-exercises.json** - —Å–æ–¥–µ—Ä–∂–∏—Ç 16 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- [ ] **import-data.sh** - bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

**–í—Å–µ–≥–æ:** 3 —Ñ–∞–π–ª–∞ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É

---

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø–æ –ø–æ—Ä—è–¥–∫—É)

### 1Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å export-categories.json –≤ /root/directus/
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å export-exercises.json –≤ /root/directus/
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å import-data.sh –≤ /root/directus/

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ls -la /root/directus/ | grep export
ls -la /root/directus/ | grep import
```

### 2Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

- [ ] –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
```bash
chmod +x /root/directus/import-data.sh
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
```bash
ls -l /root/directus/import-data.sh
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rwxr-xr-x (755)
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞

- [ ] –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
```bash
cd /root/directus
```

- [ ] –ù–∞–π—Ç–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DIRECTUS_ADMIN_PASSWORD –∏–∑ —Ñ–∞–π–ª–∞ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  - –°–ø—Ä–æ—Å–∏ —É —Ç–æ–≥–æ, –∫—Ç–æ –¥–µ–ø–ª–æ–∏–ª

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–º–ø–æ—Ä—Ç–∞
```bash
./import-data.sh https://strong.webtga.ru admin@strong.webtga.ru –ü–ê–†–û–õ–¨_–ê–î–ú–ò–ù–ê
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîê Authenticating to Directus...
‚úÖ Authenticated: eyJ0eXAiOiJKV1QiLCJhbGc...
üìã Importing categories...
8
‚úÖ Categories imported
üí™ Importing exercises...
16
‚úÖ Exercises imported
üéâ Import complete!
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 8)
```bash
curl -s https://strong.webtga.ru/api/items/categories | jq '.data | length'
```

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 16)
```bash
curl -s https://strong.webtga.ru/api/items/exercises | jq '.data | length'
```

- [ ] –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```bash
curl -s https://strong.webtga.ru/api/items/categories | jq '.data[] | {id, name}'
```

- [ ] –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
```bash
curl -s https://strong.webtga.ru/api/items/exercises | jq '.data[0]'
```

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: https://strong.webtga.ru/api/admin
- [ ] –õ–æ–≥–∏–Ω: admin@strong.webtga.ru
- [ ] –ü–∞—Ä–æ–ª—å: (–∏–∑ .env DIRECTUS_ADMIN_PASSWORD)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤–∏–¥–Ω—ã:
  - [ ] 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ "Categories"
  - [ ] 16 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ "Exercises"
  - [ ] –ö–∞–∂–¥–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –Ω—É–∂–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå "Authentication failed"

**–ü—Ä–∏—á–∏–Ω–∞:** –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ø–∞—Ä–æ–ª—å –≤ —Ñ–∞–π–ª–µ .env (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è DIRECTUS_ADMIN_PASSWORD)
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –ø–∞—Ä–æ–ª—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
3. –ï—Å–ª–∏ –∑–∞–±—ã–ª –ø–∞—Ä–æ–ª—å - –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ .env –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Directus:
```bash
cd /root/directus
docker-compose restart directus
```

### ‚ùå "jq: command not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ø—Ä–æ–≥—Ä–∞–º–º–∞ jq –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
apt-get update && apt-get install -y jq curl
```

### ‚ùå "Permission denied"

**–ü—Ä–∏—á–∏–Ω–∞:** —Å–∫—Ä–∏–ø—Ç –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
chmod +x /root/directus/import-data.sh
ls -l /root/directus/import-data.sh
```

### ‚ùå "No such file or directory"

**–ü—Ä–∏—á–∏–Ω–∞:** —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
ls -la /root/directus/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã:
# - export-categories.json
# - export-exercises.json
# - import-data.sh
```

### ‚ùå –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è, –Ω–æ –∏–º–ø–æ—Ä—Ç –Ω–µ –ø—Ä–æ–∏–∑–æ—à–µ–ª

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å:**
```bash
# –ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—Å—Ç—å
curl -s https://strong.webtga.ru/api/items/categories | jq '.data | length'

# –ï—Å–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –µ—Å—Ç—å
curl -s https://strong.webtga.ru/api/items/exercises | jq '.data | length'
```

### ‚ùå CORS –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ API

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ DIRECTUS_CORS –≤–∫–ª—é—á–µ–Ω –≤ .env
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
curl -s https://strong.webtga.ru/api/items/categories
```

---

## –£—Å–ø–µ—Ö! ‚úÖ

–ï—Å–ª–∏ –≤—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–æ:
- ‚úÖ 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ 16 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –í—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å production —Å–µ—Ä–≤–µ—Ä–∞

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ production –¥–æ–º–µ–Ω–µ https://strong.webtga.ru/

---

## –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –≤ —á–µ–∫–ª–∏—Å—Ç–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"
3. –û–±—Ä–∞—Ç–∏—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å –ª–æ–≥–∞–º–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
