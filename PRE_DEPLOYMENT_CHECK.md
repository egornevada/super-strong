# üìã –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º

**–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—É—à–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ production!**

–ï—Å—Ç—å –¥–≤–µ —á–∞—Å—Ç–∏: –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Claude –∏ –¥–ª—è production Claude.

---

## üñ•Ô∏è LOCAL DEVELOPMENT (–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ)

### –ü—Ä–æ–≤–µ—Ä—è—é –ª–æ–∫–∞–ª—å–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```bash
# 1Ô∏è‚É£ Linting - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
pnpm lint
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –±–µ–∑ –æ—à–∏–±–æ–∫

# 2Ô∏è‚É£ TypeScript - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
pnpm tsc --noEmit
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –±–µ–∑ –æ—à–∏–±–æ–∫

# 3Ô∏è‚É£ Build - —Å–±–æ—Ä–∫–∞ –¥–ª—è production
pnpm build
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úì built in X.XXs

# 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ dist –ø–∞–ø–∫–∏
du -sh dist/
ls -la dist/
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: dist/ –ø–∞–ø–∫–∞ —Å index.html –∏ assets/

# 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
curl -s "https://strong.webtga.ru/api/items/exercises?limit=1" | jq '.data[0] | {id, name}'
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: {"id": 1, "name": "..."}

# 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ env —Ñ–∞–π–ª–æ–≤
cat .env.local | grep VITE_DIRECTUS_URL
cat .env.production | grep VITE_DIRECTUS_URL
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: https://strong.webtga.ru/api –≤ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö
```

### –ü—Ä–æ–≤–µ—Ä—è—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5173/
2. –û—Ç–∫—Ä—ã—Ç—å F12 (Dev Tools)
3. –í–∫–ª–∞–¥–∫–∞ **Console**:
   - ‚úÖ –ù–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - ‚úÖ –ù–µ—Ç CORS –æ—à–∏–±–æ–∫
4. –í–∫–ª–∞–¥–∫–∞ **Network**:
   - ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ /api/items/exercises - —Å—Ç–∞—Ç—É—Å 200
   - ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ /api/items/categories - —Å—Ç–∞—Ç—É—Å 200
5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - ‚úÖ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
   - ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–º–∏—Ä–∞–µ—Ç
   - ‚úÖ –ù–µ—Ç –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

### Git –∫–æ–º–º–∏—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—á–µ–≥–æ –Ω–µ –∑–∞–±—ã–ª
git status

# –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã
git add .

# –ö–æ–º–º–∏—Ç
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# –ü—É—à–∏—Ç—å
git push origin main
```

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã?

–ï—Å–ª–∏ –≤—Å—ë –∑–µ–ª–µ–Ω–æ - –ø–∏—à–∏ ‚úÖ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

---

## üñ•Ô∏è PRODUCTION SERVER (Production —Å–µ—Ä–≤–µ—Ä)

### –ü—Ä–æ–≤–µ—Ä—è—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1Ô∏è‚É£ Git pull - —Å–∫–∞—á–∞—Ç—å –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
cd /tmp/super-strong
git pull origin main
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: Already up to date. –∏–ª–∏ –Ω–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã

# 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–º–º–∏—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ
git log --oneline -3
# ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–º–∏—Ç—ã

# 3Ô∏è‚É£ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pnpm install
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –±–µ–∑ –æ—à–∏–±–æ–∫

# 4Ô∏è‚É£ Build - —Å–æ–±—Ä–∞—Ç—å –¥–ª—è production
pnpm build
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úì built in X.XXs

# 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dist –ø–∞–ø–∫–∞
ls -la dist/
du -sh dist/
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: index.html –∏ assets/ –Ω–∞ –º–µ—Å—Ç–µ

# 6Ô∏è‚É£ –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ web —Å–µ—Ä–≤–µ—Ä
# –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
cp -r dist/* /var/www/strong.webtga.ru/
# –∏–ª–∏
docker cp dist/. nginx_container:/usr/share/nginx/html/

# 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–æ—Å—å
ls -la /var/www/strong.webtga.ru/
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: index.html –∏ –ø–∞–ø–∫–∞ assets/

# 8Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Directus —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -s https://strong.webtga.ru/api/items/categories | jq '.data | length'
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 8 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

curl -s https://strong.webtga.ru/api/items/exercises | jq '.data | length'
# ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
```

### –ü—Ä–æ–≤–µ—Ä—è—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

1. –û—Ç–∫—Ä—ã—Ç—å https://strong.webtga.ru/
2. –û—Ç–∫—Ä—ã—Ç—å F12 (Dev Tools)
3. –í–∫–ª–∞–¥–∫–∞ **Console**:
   - ‚úÖ –ù–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - ‚úÖ –ù–µ—Ç CORS –æ—à–∏–±–æ–∫
4. –í–∫–ª–∞–¥–∫–∞ **Network**:
   - ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ /api/items/exercises - —Å—Ç–∞—Ç—É—Å 200
   - ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ /api/items/categories - —Å—Ç–∞—Ç—É—Å 200
5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - ‚úÖ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
   - ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–º–∏—Ä–∞–µ—Ç
   - ‚úÖ –î–∏–∑–∞–π–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞:

```bash
# Nginx –ª–æ–≥–∏
tail -f /var/log/nginx/error.log

# Directus –ª–æ–≥–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Docker)
cd /root/directus
docker-compose logs -f directus

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status nginx
```

### ‚úÖ Production –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã?

–ï—Å–ª–∏ –≤—Å—ë –∑–µ–ª–µ–Ω–æ - –æ—Ç–ø—Ä–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

---

## üìù –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –£–°–ü–ï–®–ù–´–ô –î–ï–ü–õ–û–ô

```
‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ: pnpm lint - OK
‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ: pnpm build - OK
‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
‚úÖ GitHub: –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –∑–∞–ª–∏—Ç
‚úÖ –°–µ—Ä–≤–µ—Ä: git pull - –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
‚úÖ –°–µ—Ä–≤–µ—Ä: pnpm build - OK
‚úÖ –°–µ—Ä–≤–µ—Ä: dist/ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ web server
‚úÖ Production: https://strong.webtga.ru/ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Production: —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
‚úÖ –ù–µ—Ç CORS –∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫

üéâ DEPLOYMENT COMPLETE! üéâ
```

### ‚ùå –û–®–ò–ë–ö–ê - –ß–¢–û –î–ï–õ–ê–¢–¨

```
‚ùå –õ–æ–∫–∞–ª—å–Ω–æ lint –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç?
   ‚Üí –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏, commit, git push

‚ùå –õ–æ–∫–∞–ª—å–Ω–æ build –ø–∞–¥–∞–µ—Ç?
   ‚Üí –ü–æ—Å–º–æ—Ç—Ä–∏ –æ—à–∏–±–∫—É, –∏—Å–ø—Ä–∞–≤—å, git push

‚ùå –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ git pull –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
   ‚Üí git status –ø–æ—Å–º–æ—Ç—Ä–∏

‚ùå –ù–∞ production –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω?
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å console (F12)
   ‚Üí –ü–æ—Å–º–æ—Ç—Ä–∏ nginx –ª–æ–≥–∏
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ dist/ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞

‚ùå CORS –æ—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ?
   ‚Üí –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å /root/directus/.env
   ‚Üí DIRECTUS_CORS_ENABLED=true –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
   ‚Üí docker-compose restart directus
```

---

## üîÑ Workflow –¥–ª—è –î–≤—É—Ö Claude

### LOCAL CLAUDE:
1. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ
3. –ï—Å–ª–∏ –≤—Å—ë ‚úÖ - git push
4. –ù–∞–ø–∏—Å–∞—Ç—å: **"‚úÖ LOCAL CHECKS PASSED"**
5. –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ production Claude

### PRODUCTION CLAUDE:
1. –ü–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ–∏ –∫–æ–º–∞–Ω–¥—ã
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –ï—Å–ª–∏ –≤—Å—ë ‚úÖ - –Ω–∞–ø–∏—Å–∞—Ç—å:

```markdown
‚úÖ PRODUCTION CHECKS PASSED

- git pull: —É—Å–ø–µ—à–µ–Ω
- pnpm build: OK
- dist/ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞
- https://strong.webtga.ru/ —Ä–∞–±–æ—Ç–∞–µ—Ç
- —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

üéâ READY FOR USERS!
```

4. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ ‚ùå - –æ–ø–∏—Å–∞—Ç—å –æ—à–∏–±–∫—É –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å

---

## üí° –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

**–ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫:**

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| `pnpm lint` –ø–∞–¥–∞–µ—Ç | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ |
| `pnpm build` –ø–∞–¥–∞–µ—Ç | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript —Ç–∏–ø—ã |
| CORS –æ—à–∏–±–∫–∞ | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Directus: `docker-compose restart` |
| –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ | –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à: Ctrl+Shift+Delete |
| dist/ –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å `/var/www/strong.webtga.ru/` |
| API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Directus –∑–∞–ø—É—â–µ–Ω: `docker-compose ps` |

---

**üöÄ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é?**
